<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus UEL - Avalia√ß√µes</title>
    <link rel="icon" href="data:image/svg+xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' width='17' height='18'><text y='15' font-size='14'>üíö</text></svg>">
    <link rel="stylesheet" th:href="@{/geral/style.css}">
</head>

<body>
<nav>
    <div class="logo">
        <h1>Campus UEL</h1>
    </div>
    <ul class="nav-links">
        <li><a th:href="@{/avaliacoes/form}">Nova Avalia√ß√£o</a></li>
        <li><a th:href="@{/usuarios}">Usu√°rios</a></li>
        <li><a th:href="@{/locais}">Locais</a></li>
        <li><a th:href="@{/questoes}">Quest√µes</a></li>
    </ul>
</nav>

<section class="hero">
    <h2>üíö Avalie os Espa√ßos da Universidade</h2>
    <p>Compartilhe sua experi√™ncia sobre os espa√ßos da Universidade Estadual de Londrina.</p>
    <a th:href="@{/avaliacoes/form}" class="btn">Fazer Nova Avalia√ß√£o</a>
</section>

<section class="avaliacoes">
    <h3>√öltimas Avalia√ß√µes</h3>

    <div class="avaliacoes-list">

        <div th:if="${avaliacoes != null and !avaliacoes.isEmpty()}"
             th:each="av : ${avaliacoes}">

            <a th:href="@{'/avaliacoes/' + ${av['id_avaliacao']}}" class="avaliacao-card-link">
                <div class="avaliacao-card">

                    <img th:if="${av['local_imagem'] != null}"
                         th:src="${av['local_imagem']}"
                         class="avaliacao-img"
                         alt="Foto do local">

                    <img th:if="${av['local_imagem'] == null}"
                         th:src="@{/geral/local-placeholder.jpg}"
                         class="avaliacao-img"
                         alt="Foto padr√£o">

                    <div class="avaliacao-content">
                        <h4 th:text="${av['local_nome']}">Nome do Local</h4>
                        <p class="avaliacao-meta">
                            Avaliado por <span th:text="${av['usuario_nome']}">Usu√°rio</span><br>
                            em <span th:text="${#dates.format(av['data_avaliacao'], 'dd/MM/yyyy')}">00/00/0000</span>
                        </p>
                        <p th:if="${av['nota_geral'] != null}" class="avaliacao-meta" style="margin-top: 0.5rem;">
                            ‚≠ê Nota geral: <span th:text="${av['nota_geral']}">0</span>/5
                        </p>
                    </div>

                </div>
            </a>

        </div>

        <p th:if="${avaliacoes == null or avaliacoes.isEmpty()}"
           style="text-align:center; color:gray; margin-top:1rem;">
            Nenhuma avalia√ß√£o registrada ainda üí≠
        </p>
    </div>

</section>

<footer><p>&copy; 2025 UEL - Todos os direitos reservados.</p></footer>
</body>
</html>
