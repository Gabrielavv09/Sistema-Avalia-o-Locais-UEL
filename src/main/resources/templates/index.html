<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus UEL - Avalia√ß√µes</title>
    <link rel="icon" href="data:image/svg+xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' width='17' height='18'><text y='15' font-size='14'>üíö</text></svg>">
    <link rel="stylesheet" th:href="@{/geral/style.css}">
</head>

<body>
<nav>
    <div class="logo">
        <h1>Campus UEL</h1>
    </div>
    <ul class="nav-links">
        <li><a th:href="@{/}">Tela inicial</a></li>
        <li><a th:href="@{/usuarios}">Usu√°rios</a></li>
        <li><a th:href="@{/locais}">Locais</a></li>
        <li><a th:href="@{/questoes}">Quest√µes</a></li>
    </ul>
</nav>

<section class="hero">
    <h2>üíö Avalie os Espa√ßos da Universidade</h2>
    <p>Compartilhe sua experi√™ncia sobre os espa√ßos da Universidade Estadual de Londrina.</p>
    <a th:href="@{/avaliacoes/form}" class="btn">Fazer Nova Avalia√ß√£o</a>
</section>

<section class="avaliacoes">
    <h3>√öltimas Avalia√ß√µes</h3>

    <form action="/" method="get" class="search-form" style="margin-bottom: 30px; display: flex; justify-content: center; gap: 10px;">
        <input type="text" name="termo" placeholder="Buscar avalia√ß√µes por local..." th:value="${termo}" style="padding: 10px; width: 300px; border: 1px solid #ccc; border-radius: 5px;">
        <button type="submit" class="btn">Buscar</button>
        <a href="/" class="btn" style="background-color: #6c757d; text-decoration: none; padding: 10px 20px; color: white; border-radius: 5px; line-height: 20px;">Limpar</a>
    </form>

    <div class="avaliacoes-list">

        <div th:if="${avaliacoes != null and !avaliacoes.isEmpty()}" th:each="av : ${avaliacoes}">

            <a th:href="@{'/avaliacoes/' + ${av.idAvaliacao}}" class="avaliacao-card-link">
                <div class="avaliacao-card">

                    <img th:if="${av.imagemLocal != null and !av.imagemLocal.isEmpty()}"
                         th:src="${av.imagemLocal}"
                         class="avaliacao-img"
                         alt="Foto do local">

                    <img th:if="${av.imagemLocal == null or av.imagemLocal.isEmpty()}"
                         th:src="@{/geral/local-placeholder.jpg}"
                         class="avaliacao-img"
                         alt="Foto padr√£o">

                    <div class="avaliacao-content">
                        <h4 th:text="${av.nomeLocal}">Nome do Local</h4>

                        <p class="avaliacao-meta">
                            Avaliado por <span th:text="${av.nomeUsuario}">Usu√°rio</span><br>
                            em <span th:text="${#temporals.format(av.dataAvaliacao, 'dd/MM/yyyy')}">00/00/0000</span>
                        </p>

                        <p class="avaliacao-meta" style="margin-top: 0.5rem; color: green; font-size: 0.9em;">
                            (Clique para ver detalhes e notas)
                        </p>
                    </div>

                </div>
            </a>

        </div>

        <div th:if="${avaliacoes == null or avaliacoes.isEmpty()}"
             style="text-align:center; color:gray; margin-top:1rem; width: 100%;">
            <p>Nenhuma avalia√ß√£o encontrada para este local.</p>
        </div>
    </div>

</section>

<footer><p>&copy; 2025 UEL - Todos os direitos reservados.</p></footer>
</body>
</html>