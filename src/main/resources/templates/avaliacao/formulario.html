<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí¨ Nova Avalia√ß√£o - Campus UEL</title>
    <link rel="stylesheet" th:href="@{/geral/style.css}">
    <script>
        function adicionarQuestao() {
            const container = document.getElementById('novas-questoes');
            const index = container.children.length;

            const bloco = document.createElement('div');
            bloco.classList.add('nova-questao');
            bloco.innerHTML = `
                <label>Texto da Quest√£o:</label>
                <input type="text" name="novasQuestoes[${index}].texto" required>

                <label>Tipo:</label>
                <select name="novasQuestoes[${index}].tipo" required>
                    <option value="Dissertativa">Dissertativa</option>
                    <option value="Escala">Escala</option>
                    <option value="M√∫ltipla Escolha">M√∫ltipla Escolha</option>
                </select>
            `;
            container.appendChild(bloco);
        }
    </script>
</head>
<body>

<nav>
    <div class="logo"><h1>Campus UEL</h1></div>
    <ul class="nav-links">
        <li><a th:href="@{/}">In√≠cio</a></li>
        <li><a th:href="@{/usuarios}">Usu√°rios</a></li>
        <li><a th:href="@{/locais}">Locais</a></li>
        <li><a th:href="@{/questoes}">Quest√µes</a></li>
    </ul>
</nav>

<section class="avaliacao-form">
    <h2>üí¨ Avalia√ß√£o do Local</h2>
    <form th:action="@{/avaliacoes/registrar}" method="post">

        <h3>üë§ Informa√ß√µes do Avaliador</h3>
        <label for="nome">Nome:</label>
        <input id="nome" name="nome" required>

        <label for="email">E-mail:</label>
        <input id="email" name="email" type="email" required>

        <label for="tipo">Tipo:</label>
        <select id="tipo" name="tipo" required>
            <option value="">Selecione...</option>
            <option value="Aluno">Aluno</option>
            <option value="Professor">Professor</option>
        </select>

        <label for="cursoNome">Curso (se aluno):</label>
        <input id="cursoNome" name="cursoNome">

        <label for="departamento">Departamento</label>
        <input id="departamento" name="departamento">

        <h3>üìç Local Avaliado</h3>
        <select id="local" name="idLocal" required>
            <option value="">Selecione o local...</option>
            <option th:each="local : ${locais}" th:value="${local.idLocal}" th:text="${local.nome}"></option>
        </select>

        <div class="questoes">
            <h4>üß© Quest√µes Padr√£o</h4>
            <div th:each="questao : ${questoesPadrao}">
                <label th:text="${questao.texto}"></label>
                <input type="text" th:name="'respostas[' + ${questao.idQuestao} + ']'" required>
            </div>

            <h4>üí° Quest√µes Personalizadas Existentes</h4>
            <div th:each="questao : ${questoesPersonalizadas}">
                <label th:text="${questao.texto}"></label>
                <input type="text" th:name="'respostas[' + ${questao.idQuestao} + ']'" required>
            </div>

            <div id="novas-questoes"></div>
            <button type="button" class="btn" onclick="adicionarQuestao()">Adicionar Quest√£o</button>
        </div>

        <button type="submit" class="btn">Salvar Avalia√ß√£o</button>
    </form>
</section>

<footer>
    <p>&copy; 2025 UEL - Todos os direitos reservados.</p>
</footer>

</body>
</html>
